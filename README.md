# Node.js Task-5.1

## Критерії прийому

- Створено репозиторій з домашнім завданням — Cloudinary.
- Посилання на репозиторій надіслане ментору на перевірку.
- Код відповідає технічному завданню проєкту.
- При виконанні коду не виникає необроблених помилок.
- Назва змінних, властивостей і методів записана в нотації СamelCase.
- Використовуються англійські слова, назви функцій та методів містять дієслово.
- У коді немає закоментованих ділянок коду.
- Проєкт коректно працює з актуальною LTS-версією Node.

## Крок 1

Створи гілку `05.1-cloudinary` з гілки main.

Продовж створення REST API для роботи з колекцією контактів. Додай можливість завантаження аватарки користувача через [Multer](https://github.com/expressjs/multer).

## Крок 2

Створи файл `cloudinary` для для налаштування сховища. Форматувати файл розміром 250 на 250. Перенеси аватарку користувача з папки `temp` в сховище `cloudinary`. - Отриманий `URL` збережи в поле `avatar` користувача.

## Крок 3

У схему користувача додай нову властивість `avatar` для зберігання зображення.

```
{
  ...
  avatar: String,
  ...
}
```

Використовуй пакет [gravatar](https://www.npmjs.com/package/gravatar) для того, щоб при реєстрації нового користувача відразу згенерувати йому аватар по його `email`.

## Крок 4

При реєстрації користувача:

- Створюй посилання на аватарку користувача за допомогою [gravatar](https://www.npmjs.com/package/gravatar).
- Отриманий URL збережи в поле `avatar` під час створення користувача.

## Крок 5

Додай можливість поновлення аватарки, створивши ендпоінт /`auth/avatars` і використовуючи метод `PATCH`.

avatar upload from postman

```
# Запит
PATCH /users/avatars
Content-Type: multipart/form-data
Authorization: "Bearer {{token}}"
RequestBody: завантажений файл

# Успішна відповідь
Status: 200 OK
Content-Type: application/json
ResponseBody: {
  "avatar": "тут буде посилання на зображення"
}

# Неуспішна відповідь
Status: 401 Unauthorized
Content-Type: application/json
ResponseBody: {
  "message": "Not authorized"
}
```

- Створи папку `temp` в корені проекту і зберігай в неї завантажену аватарку.
